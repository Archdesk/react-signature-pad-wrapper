"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("react"),e=require("signature_pad"),n=require("throttle-debounce");function r(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}})),e.default=t,Object.freeze(e)}var o=i(t),a=r(e),s=function(t,e){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},s(t,e)};var u=function(){return u=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},u.apply(this,arguments)},c=function(t){function e(e){var r=t.call(this,e)||this;return r.canvasRef=o.createRef(),r.state={canvasWidth:0,canvasHeight:0},r.callResizeHandler=n.debounce(r.props.debounceInterval,r.handleResize.bind(r)),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.componentDidMount=function(){console.log("PROTASIE");var t=this.canvasRef.current;if(t){this.props.width&&this.props.height||(t.style.width="100%"),this.scaleCanvas(),this.props.width&&this.props.height||window.addEventListener("resize",this.callResizeHandler),this.signaturePad=new a.default(t,this.props.options);var e=t.height;t.height=69,t.height=e}},e.prototype.componentWillUnmount=function(){this.props.width&&this.props.height||window.removeEventListener("resize",this.callResizeHandler),this.signaturePad.off()},Object.defineProperty(e.prototype,"instance",{get:function(){return this.signaturePad},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canvas",{get:function(){return this.canvasRef},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dotSize",{get:function(){return this.signaturePad.dotSize},set:function(t){this.signaturePad.dotSize=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minWidth",{get:function(){return this.signaturePad.minWidth},set:function(t){this.signaturePad.minWidth=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this.signaturePad.maxWidth},set:function(t){this.signaturePad.maxWidth=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"throttle",{get:function(){return this.signaturePad.throttle},set:function(t){this.signaturePad.throttle=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this.signaturePad.backgroundColor},set:function(t){this.signaturePad.backgroundColor=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"penColor",{get:function(){return this.signaturePad.penColor},set:function(t){this.signaturePad.penColor=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"velocityFilterWeight",{get:function(){return this.signaturePad.velocityFilterWeight},set:function(t){this.signaturePad.velocityFilterWeight=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onBegin",{set:function(t){if(!t||"function"!=typeof t)throw new Error("Invalid argument passed to onBegin()");this.signaturePad.onBegin=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onEnd",{set:function(t){if(!t||"function"!=typeof t)throw new Error("Invalid argument passed to onEnd()");this.signaturePad.onEnd=t},enumerable:!1,configurable:!0}),e.prototype.isEmpty=function(){return this.signaturePad.isEmpty()},e.prototype.clear=function(){this.signaturePad.clear()},e.prototype.fromDataURL=function(t){this.signaturePad.fromDataURL(t)},e.prototype.toDataURL=function(t,e){return this.signaturePad.toDataURL(t,e)},e.prototype.fromData=function(t){this.signaturePad.fromData(t)},e.prototype.toData=function(){return this.signaturePad.toData()},e.prototype.off=function(){this.signaturePad.off()},e.prototype.on=function(){this.signaturePad.on()},e.prototype.handleResize=function(){console.log("handleResize"),this.scaleCanvas()},e.prototype.scaleCanvas=function(){var t=this.canvasRef.current;if(t){var e=Math.max(window.devicePixelRatio||1,1),n=(this.props.width||t.offsetWidth)*e,r=(this.props.height||t.offsetHeight)*e,i=this.state,o=i.canvasWidth,a=i.canvasHeight;if(n!==o||r!==a){var s;this.props.redrawOnResize&&this.signaturePad&&(s=this.signaturePad.toDataURL()),t.width=n,t.height=r,this.setState({canvasWidth:n,canvasHeight:r});var u=t.getContext("2d");u&&u.scale(e,e),s?this.signaturePad.fromDataURL(s):this.signaturePad&&this.signaturePad.clear()}}},e.prototype.render=function(){var t=this.props.canvasProps;return o.createElement("canvas",u({ref:this.canvasRef},t))},e.displayName="react-signature-pad-wrapper",e.defaultProps={redrawOnResize:!1,debounceInterval:150},e}(o.PureComponent);exports.default=c;
//# sourceMappingURL=react-signature-pad-wrapper.js.map
